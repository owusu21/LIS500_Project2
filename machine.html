<!DOCTYPE html>
<html>
<head>
  <meta charset = "UTF-8">
  <title>Our Machine</title>

  <!-- Font: Monsterrat -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

  <!-- Stylepage link -->
  <link rel="stylesheet" href="css/stylepage.css">

  <!-- Load p5.js and ml5.js libraries -->
  <script src="https://cdn.jsdelivr.net/npm/p5@latest/lib/p5.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/p5@latest/lib/addons/p5.dom.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ml5@latest/dist/ml5.min.js"></script>
</head>

<!-- Navigation -->
  <header>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="resources.html">Implicit Bias Resources</a>
      <a href="tech-hero.html">Our Tech Heroes</a>
    </div>
    </header>
  
  <body>
    <h2>Our Machine Project</h2>
    <h3>What is Machine Learning</h3>
        <p>Machine learning is a field of Artifical Intelligence that allows computers to learn from data without being explicitly programmed. By feeding the computer data, the computer learns to identify patterns and make predictions or decision based on that data.</p>
    <h3>Project Statement</h3>
    <p>inset project statement here</p>
    <h3>Our Project</h3>
        <p>We decided to create a machine that would be able to identify if an image is either a horse, bird, or fish.</p>
    <h3>Project Scope</h3>
        <p>To train the machine, we used 13 different free use images showing a horse, 13 showing a fish, and 22 showing a bird. Here are some examples we used: </p>
    <img src="./assets/images/bird.jpg" alt="An image of a puffin, a type of bird, sitting on a rock">
                          <img src="./assets/images/fish.jpg" alt="An image of a orange fish in a body of water">
                          <img src="./assets/images/horse.jpg" alt="An image of a horse in a field">
        <p> We kept our sample of images relatively small in order to use images of horses, birds, and fish that we would be familiar with. </p>
<h3>The Process</h3>
    <p>Training the machine was relatviely simple after following the machine learning materials provided in our course. After uploading the images to our machine and cateogrizing them as horses, fish, or birds, we tested our machine. The machine works by utilizing a webcamera, and holding an image infront of it. We used our mobile phones to display an image for the webcamera to capture. Once caputered, the machine categorized the image.</p>
<h3>Watch Our Model</h3>
    <!---LINKED TO VIDEO-->
    <h3>Lessons Learned</h3>
        <!---<p>--->
    <h3>Try Our Model</h3>
      <div id="model-container" style="margin: 20px 0; text-align: center;">
        <p>Hold up an image of a horse, bird, or fish to your webcam:</p>
        <div id="canvas-container"></div>
        <p id="prediction-text" style="font-weight: bold; font-size: 18px;"></p>
      </div>

    <h3>Check Out The Code</h3>
    <!--github link-->

    <script>
      // Classifier Variable
      let classifier;
      // Model URL - make sure this path is correct
      let imageModelURL = './my_model/';
      
      // Video
      let video;
      let flippedVideo;
      // To store the classification
      let label = "";
  
      // Load the model first
      function preload() {
        classifier = ml5.imageClassifier(imageModelURL + 'model.json');
      }
  
      function setup() {
        // Create canvas and place it in the container
        let canvas = createCanvas(320, 260);
        canvas.parent('canvas-container');
        
        // Create the video
        video = createCapture(VIDEO);
        video.size(320, 240);
        video.hide();
  
        flippedVideo = ml5.flipImage(video);
        // Start classifying
        classifyVideo();
      }
  
      function draw() {
        background(0);
        // Draw the video
        image(flippedVideo, 0, 0);
  
        // Draw the label
        fill(255);
        textSize(16);
        textAlign(CENTER);
        text(label, width / 2, height - 4);
        
        // Update the prediction text
        document.getElementById('prediction-text').innerText = label;
      }
  
      // Get a prediction for the current video frame
      function classifyVideo() {
        flippedVideo = ml5.flipImage(video)
        classifier.classify(flippedVideo, gotResult);
        flippedVideo.remove();
      }
  
      // When we get a result
      function gotResult(error, results) {
        // If there is an error
        if (error) {
          console.error(error);
          return;
        }
        // The results are in an array ordered by confidence.
        // console.log(results[0]);
        label = results[0].label;
        // Classifiy again!
        classifyVideo();
      }
    </script>
  </body>
  </html>